<!-- 标题 -->
<h1 class="w3-center w3-padding-64 w3-tangerine"><span class="w3-tag w3-wide">Opcode: Unused</span></h1>
<!-- 内容 -->

<div style="text-align: right">
    <a title="Table Of Content" href="/archive/java/java_classfile_index.html">TOC</a>
    <a href="javascript:void(0);" onclick="toggle_all_sub_note()">Toggle Commentary</a>
</div>

<h2>Reserved Opcodes</h2>

<p class="indented">
    Three opcodes are reserved for internal use by a Java Virtual Machine implementation.
    If the instruction set of the Java Virtual Machine is extended in the future, these reserved opcodes are guaranteed not to be used.
</p>

<p class="indented">
    Two of the reserved opcodes, numbers <code>254</code> (<code>0xfe</code>) and <code>255</code> (<code>0xff</code>), have the mnemonics <code>impdep1</code> and <code>impdep2</code>, respectively.
    These instructions are intended to provide "back doors" or traps to implementation-specific functionality implemented in software and hardware, respectively.
    The third reserved opcode, number <code>202</code> (<code>0xca</code>), has the mnemonic <code>breakpoint</code> and is intended to be used by debuggers to implement breakpoints.
</p>

<p class="indented">
    Although these opcodes have been reserved, they may be used only inside a Java Virtual Machine implementation.
    They cannot appear in valid class files.
</p>

<table class="w3-table-all w3-hoverable w3-centered">
    <caption>Reserved Opcodes</caption>
    <thead onclick="$(this).next().toggle()">
    <tr class="w3-green">
        <th>opcode</th>
        <th>mnemonic symbol</th>
        <th>meaning</th>
    </tr>
    </thead>
    <tbody>
    <tr><td><code>202</code></td><td>breakpoint</td><td class="w3-left-align">used by debuggers to implement breakpoints</td></tr>
    <tr><td><code>254</code></td><td>impdep1</td><td class="w3-left-align">provide "back doors" to implementation-specific functionality</td></tr>
    <tr><td><code>255</code></td><td>impdep2</td><td class="w3-left-align">provide "back doors" to implementation-specific functionality</td></tr>
    </tbody>
</table>

<h2>Deprecated Opcodes</h2>


<p class="indented"></p>
<p class="indented"></p>

<p class="indented">
    If the class file version number is 51.0(Java 7) or above, then neither the <code>jsr</code> opcode or the <code>jsr_w</code> opcode may appear in the <code>code</code> array.
</p>


<ul>
    <li><code>jsr</code></li>
    <li><code>jsr_w</code></li>
    <li><code>ret</code></li>
</ul>

<pre title="Code_attribute" class="plaintext">
Code_attribute {
    u2 attribute_name_index;
    u4 attribute_length;
    u2 max_stack;
    u2 max_locals;
    u4 code_length;
    u1 code[code_length]; // code array
    u2 exception_table_length;
    {   u2 start_pc;
        u2 end_pc;
        u2 handler_pc;
        u2 catch_type;
    } exception_table[exception_table_length];
    u2 attributes_count;
    attribute_info attributes[attributes_count];
}
</pre>

<div class="w3-panel w3-light-grey w3-border w3-round">
    <p>
        下面的内容来自于《The Java Virtual Machine Specification, Java SE 8 Edition》的<a class="external" href="/doc/javase/jvms/se8/jvms-2.html#jvms-2.3.3" target="_blank">2.3.3. The returnAddress Type and Values</a>部分。
    </p>
</div>

<p class="indented">
    The <code>returnAddress</code> type is used by the Java Virtual Machine's <code>jsr</code>, <code>ret</code>, and <code>jsr_w</code> instructions.
    The values of the <code>returnAddress</code> type are pointers to the opcodes of Java Virtual Machine instructions.
    Unlike the numeric primitive types, the <code>returnAddress</code> type does not correspond to any Java programming language type and cannot be modified by the running program.
</p>



<h2>nop</h2>

<p class="indented">
    Do nothing
</p>

<p class="indented">
    <a class="external" href="https://stackoverflow.com/questions/10422086/what-is-the-nop-in-jvm-bytecode-used-for" target="_blank">stackoverflow: What is the NOP in JVM bytecode used for?
    </a>
</p>

<p class="indented">
    A NOP is most commonly used for timing purposes, to force memory alignment, to prevent hazards, to occupy a branch delay slot, or as a place-holder to be replaced by active instructions later on in program development (or to replace removed instructions when refactoring would be problematic or time-consuming). In some cases, a NOP can have minor side effects; for example, on the Motorola 68000 series of processors, the NOP opcode causes a synchronization of the pipeline.
</p>
